!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("@angular/forms"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng-rating",["exports","@angular/core","rxjs","@angular/forms","@angular/common"],t):t(e["ng-rating"]={},e.ng.core,e.rxjs,e.ng.forms,e.ng.common)}(this,function(e,t,n,r,o){"use strict";var a=function(){function e(){}return e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),s=function(){function e(){}return e.prototype.ngOnInit=function(){},e.decorators=[{type:t.Component,args:[{selector:"lib-rating",template:"\n    <p>\n      rating works!\n    </p>\n  "}]}],e.ctorParameters=function(){return[]},e}(),i=function(){function e(){var e=this;this.stars=[],this.onValueChange||(this.onValueChange=new n.Subject,this.onValueChange.subscribe(function(){e.generateRating(),e.applySizeAllStars()})),this.onCheckedColorChange||(this.onCheckedColorChange=new n.Subject,this.onCheckedColorChange.subscribe(function(){e.applyColorStyleAllStars(!0)})),this.onUnCheckedColorChange||(this.onUnCheckedColorChange=new n.Subject,this.onUnCheckedColorChange.subscribe(function(){e.applyColorStyleAllStars(!1)})),this.onSizeChange||(this.onSizeChange=new n.Subject,this.onSizeChange.subscribe(function(){e.applySizeAllStars()}))}return Object.defineProperty(e.prototype,"checkedColor",{get:function(){return this._checkedColor},set:function(e){this._checkedColor=e,this._checkedColor&&this.onCheckedColorChange.next(this._checkedColor)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unCheckedColor",{get:function(){return this._unCheckedColor},set:function(e){this._unCheckedColor=e,this._unCheckedColor&&this.onUnCheckedColorChange.next(this._unCheckedColor)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){e&&null!=e||(e=0),5<e&&(e=5),this._value=e,0<=this._value&&this.onValueChange.next(this._value)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(e){e&&null!=e&&"0px"!=e||(e="24px"),this._size=e,this.onSizeChange.next(this._size)},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var t=this;this.stars.forEach(function(e){e.nativeElement.addEventListener("click",t.rate.bind(t)),e.nativeElement.addEventListener("mouseover",t.rate.bind(t))})},e.prototype.rate=function(e){var t=e.srcElement;this.value=t.dataset.index,0==this.value&&(this.value=1)},e.prototype.setStars=function(){0==this.stars.length&&(this.stars.push(this.star1Element),this.stars.push(this.star2Element),this.stars.push(this.star3Element),this.stars.push(this.star4Element),this.stars.push(this.star5Element))},e.prototype.applySizeAllStars=function(){var o=this;this._size&&this.stars.forEach(function(e){var t=o.size.match(/\d+/)[0],n=10*parseInt(t)/24,r=0-20*parseInt(t)/24;e.nativeElement.style.setProperty("--size",o.size),e.nativeElement.classList.contains("half")&&(e.nativeElement.style.setProperty("--halfWidth",n+"px"),e.nativeElement.style.setProperty("--halfMargin",r+"px"))})},e.prototype.applyColorStyleAllStars=function(t){var n=this;this.stars.forEach(function(e){t?n.applyCheckedColorStyle(e.nativeElement):n.applyUnCheckedColorStyle(e.nativeElement)})},e.prototype.applyColorStyle=function(e){this.applyCheckedColorStyle(e),this.applyUnCheckedColorStyle(e)},e.prototype.applyCheckedColorStyle=function(e){e.style.setProperty("--checkedColor",this.checkedColor)},e.prototype.applyUnCheckedColorStyle=function(e){e.style.setProperty("--unCheckedColor",this.unCheckedColor)},e.prototype.generateRating=function(){var t=this;if(this.setStars(),0<=this.value){this.mainElement.nativeElement.title=this.value;var n=!!(Number.parseFloat(this.value.toString())%1).toString().substring(3,2),r=1;this.stars.forEach(function(e){e.nativeElement.classList=[],t.applyColorStyle(e.nativeElement),e.nativeElement.classList.add("star"),t.value>=r?e.nativeElement.classList.add("on"):n&&(e.nativeElement.classList.add("half"),n=!1),r++})}},e.decorators=[{type:t.Component,args:[{selector:"star-rating",template:'\n  <div #starMain>\n    <span data-index="1" #star1></span>\n    <span data-index="2" #star2></span>\n    <span data-index="3" #star3></span>\n    <span data-index="4" #star4></span>\n    <span data-index="5" #star5></span>\n  </div>\n  <style>\n    :root {\n      --checkedColor: gold;\n      --unCheckedColor: gray;\n      --size: 24px;\n      --halfWidth: 10px;\n      --halfMargin: -20px;\n    }  \n    .star {\n      cursor: pointer;\n      color: var(--unCheckedColor);\n      font-size: var(--size);\n      width: var(--size);\n      display: inline-block;\n    }\n    .star:last-child {\n      margin-right: 0;\n    }\n    .star:before {\n      content:\'\\2605\';\n    }\n    .star.on {\n      color: var(--checkedColor);\n    }\n    .star.half:after {\n      content:\'\\2605\';\n      color: var(--checkedColor);\n      position: absolute;\n      margin-left: var(--halfMargin);\n      width: var(--halfWidth);\n      overflow: hidden;\n    }\n  </style>\n   '}]}],e.ctorParameters=function(){return[]},e.propDecorators={mainElement:[{type:t.ViewChild,args:["starMain"]}],star1Element:[{type:t.ViewChild,args:["star1"]}],star2Element:[{type:t.ViewChild,args:["star2"]}],star3Element:[{type:t.ViewChild,args:["star3"]}],star4Element:[{type:t.ViewChild,args:["star4"]}],star5Element:[{type:t.ViewChild,args:["star5"]}],checkedColor:[{type:t.Input,args:["checkedColor"]}],unCheckedColor:[{type:t.Input,args:["unCheckedColor"]}],value:[{type:t.Input,args:["value"]}],size:[{type:t.Input,args:["size"]}]},e}(),l=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[r.FormsModule,o.CommonModule],declarations:[s,i],exports:[i]}]}],e}();e.RatingService=a,e.RatingComponent=s,e.RatingModule=l,e.StarRatingComponent=i,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-rating.umd.min.js.map