!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/forms"),require("@angular/common"),require("@angular/core"),require("rxjs")):"function"==typeof define&&define.amd?define("ng-starrating",["exports","@angular/forms","@angular/common","@angular/core","rxjs"],t):t(e["ng-starrating"]={},e.ng.forms,e.ng.common,e.ng.core,e.rxjs)}(this,function(e,t,n,o,r){"use strict";var a=function(){function e(){}return e.prototype.ngOnInit=function(){},e.decorators=[{type:o.Component,args:[{selector:"lib-rating",template:"\n    <p>\n      rating works!\n    </p>\n  "}]}],e.ctorParameters=function(){return[]},e}(),s=function(){function e(){var e=this;this.stars=[],this._readOnly=!1,this.onValueChange||(this.onValueChange=new r.Subject,this.onValueChange.subscribe(function(){e.generateRating(),e.applySizeAllStars()})),this.onCheckedColorChange||(this.onCheckedColorChange=new r.Subject,this.onCheckedColorChange.subscribe(function(){e.applyColorStyleAllStars(!0)})),this.onUnCheckedColorChange||(this.onUnCheckedColorChange=new r.Subject,this.onUnCheckedColorChange.subscribe(function(){e.applyColorStyleAllStars(!1)})),this.onSizeChange||(this.onSizeChange=new r.Subject,this.onSizeChange.subscribe(function(){e.applySizeAllStars()})),this.onReadOnlyChange||(this.onReadOnlyChange=new r.Subject,this.onReadOnlyChange.subscribe(function(){e.addRemoveEvents()}))}return Object.defineProperty(e.prototype,"checkedcolor",{get:function(){return this._checkedColor},set:function(e){this._checkedColor=e,this._checkedColor&&this.onCheckedColorChange.next(this._checkedColor)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uncheckedcolor",{get:function(){return this._unCheckedColor},set:function(e){this._unCheckedColor=e,this._unCheckedColor&&this.onUnCheckedColorChange.next(this._unCheckedColor)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){e&&null!=e||(e=0),5<e&&(e=5),this._value=e,0<=this._value&&this.onValueChange.next(this._value)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size.concat(this._size.includes("px")?"":"px")},set:function(e){e&&null!=e&&"0px"!=e||(e="24px"),this._size=e,this.onSizeChange.next(this._size)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readonly",{get:function(){return"true"===String(this._readOnly)},set:function(e){this._readOnly=e,this.onReadOnlyChange.next(e)},enumerable:!0,configurable:!0}),e.prototype.makeEditable=function(){var t=this;this.stars.forEach(function(e){e.nativeElement.addEventListener("click",t.rate.bind(t)),e.nativeElement.addEventListener("mouseover",t.rate.bind(t))})},e.prototype.makeReadOnly=function(){this.stars.forEach(function(e){e.nativeElement.__zone_symbol__clickfalse=null,e.nativeElement.__zone_symbol__mouseoverfalse=null})},e.prototype.addRemoveEvents=function(){this.readonly?this.makeReadOnly():(this.makeEditable(),this.onValueChange.next(this.value))},e.prototype.ngAfterViewInit=function(){},e.prototype.rate=function(e){var t=e.srcElement;this.value=parseInt(t.dataset.index),0==this.value&&(this.value=1)},e.prototype.setStars=function(){0==this.stars.length&&(this.stars.push(this.star1Element),this.stars.push(this.star2Element),this.stars.push(this.star3Element),this.stars.push(this.star4Element),this.stars.push(this.star5Element))},e.prototype.applySizeAllStars=function(){var r=this;this._size&&this.stars.forEach(function(e){var t=r.size.match(/\d+/)[0],n=10*parseInt(t)/24,o=0-20*parseInt(t)/24;e.nativeElement.style.setProperty("--size",r.size),e.nativeElement.classList.contains("half")&&(e.nativeElement.style.setProperty("--halfWidth",n+"px"),e.nativeElement.style.setProperty("--halfMargin",o+"px"))})},e.prototype.applyColorStyleAllStars=function(t){var n=this;this.stars.forEach(function(e){t?n.applyCheckedColorStyle(e.nativeElement):n.applyUnCheckedColorStyle(e.nativeElement)})},e.prototype.applyColorStyle=function(e){this.applyCheckedColorStyle(e),this.applyUnCheckedColorStyle(e)},e.prototype.applyCheckedColorStyle=function(e){e.style.setProperty("--checkedColor",this.checkedcolor)},e.prototype.applyUnCheckedColorStyle=function(e){e.style.setProperty("--unCheckedColor",this.uncheckedcolor)},e.prototype.generateRating=function(){var t=this;if(!this.readonly&&(this.setStars(),0<=this.value)){this.mainElement.nativeElement.title=this.value;var n=!!(Number.parseFloat(this.value.toString())%1).toString().substring(3,2),o=1;this.stars.forEach(function(e){e.nativeElement.classList=[],t.applyColorStyle(e.nativeElement),e.nativeElement.classList.add("star"),t.value>=o?e.nativeElement.classList.add("on"):n&&(e.nativeElement.classList.add("half"),n=!1),o++})}},e.decorators=[{type:o.Component,args:[{selector:"star-rating",template:'\n  <div #starMain>\n    <span data-index="1" #star1></span>\n    <span data-index="2" #star2></span>\n    <span data-index="3" #star3></span>\n    <span data-index="4" #star4></span>\n    <span data-index="5" #star5></span>\n  </div>\n  <style>\n    :root {\n      --checkedColor: gold;\n      --unCheckedColor: gray;\n      --size: 24px;\n      --halfWidth: 10px;\n      --halfMargin: -20px;\n    }  \n    .star {\n      cursor: pointer;\n      color: var(--unCheckedColor);\n      font-size: var(--size);\n      width: var(--size);\n      display: inline-block;\n    }\n    .star:last-child {\n      margin-right: 0;\n    }\n    .star:before {\n      content:\'\\2605\';\n    }\n    .star.on {\n      color: var(--checkedColor);\n    }\n    .star.half:after {\n      content:\'\\2605\';\n      color: var(--checkedColor);\n      position: absolute;\n      margin-left: var(--halfMargin);\n      width: var(--halfWidth);\n      overflow: hidden;\n    }\n  </style>\n   '}]}],e.ctorParameters=function(){return[]},e.propDecorators={mainElement:[{type:o.ViewChild,args:["starMain"]}],star1Element:[{type:o.ViewChild,args:["star1"]}],star2Element:[{type:o.ViewChild,args:["star2"]}],star3Element:[{type:o.ViewChild,args:["star3"]}],star4Element:[{type:o.ViewChild,args:["star4"]}],star5Element:[{type:o.ViewChild,args:["star5"]}],checkedcolor:[{type:o.Input,args:["checkedcolor"]}],uncheckedcolor:[{type:o.Input,args:["uncheckedcolor"]}],value:[{type:o.Input,args:["value"]}],size:[{type:o.Input,args:["size"]}],readonly:[{type:o.Input,args:["readonly"]}]},e}(),i=function(){function e(){}return e.prototype.ngDoBootstrap=function(){},e.decorators=[{type:o.NgModule,args:[{imports:[t.FormsModule,n.CommonModule],declarations:[a,s],exports:[s],entryComponents:[s]}]}],e}();e.RatingModule=i,e.StarRatingComponent=s,e.Éµa=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-starrating.umd.min.js.map